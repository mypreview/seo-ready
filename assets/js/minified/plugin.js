"use strict";function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _toPropertyKey(arg){var key=_toPrimitive(arg,"string");return _typeof(key)==="symbol"?key:String(key)}function _toPrimitive(input,hint){if(_typeof(input)!=="object"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||"default");if(_typeof(res)!=="object")return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return(hint==="string"?String:Number)(input)}(function(wp,lodash){"use strict";if(!wp){return}var META_KEY="seo_ready";var defaultTo=lodash.defaultTo,get=lodash.get,merge=lodash.merge,join=lodash.join,split=lodash.split;var _wp$element=wp.element,el=_wp$element.createElement,Fragment=_wp$element.Fragment,useCallback=_wp$element.useCallback;var _wp$data=wp.data,useSelect=_wp$data.useSelect,useDispatch=_wp$data.useDispatch;var registerPlugin=wp.plugins.registerPlugin;var _wp$editPost=wp.editPost,PluginSidebar=_wp$editPost.PluginSidebar,PluginSidebarMoreMenuItem=_wp$editPost.PluginSidebarMoreMenuItem;var MediaUpload=wp.blockEditor.MediaUpload;var _wp$primitives=wp.primitives,SVG=_wp$primitives.SVG,Path=_wp$primitives.Path;var _wp$components=wp.components,Button=_wp$components.Button,PanelBody=_wp$components.PanelBody,SelectControl=_wp$components.SelectControl,TabPanel=_wp$components.TabPanel,TextControl=_wp$components.TextControl,TextareaControl=_wp$components.TextareaControl,ToggleControl=_wp$components.ToggleControl;var _wp$i18n=wp.i18n,__=_wp$i18n.__,sprintf=_wp$i18n.sprintf;registerPlugin("seo-ready",{icon:function icon(){return el(SVG,{width:24,height:24,viewBox:"0 0 19 6",fill:"none"},el("rect",{x:"0.5",width:"3",height:"2"}),el("rect",{x:"15.5",y:"4",width:"3",height:"2"}),el(Path,{d:"M4 0H5C5.55228 0 6 0.447715 6 1V6H5C4.44772 6 4 5.55228 4 5V0Z"}),el(Path,{d:"M8.5 0H9.5C10.0523 0 10.5 0.447715 10.5 1V6H9.5C8.94772 6 8.5 5.55228 8.5 5V0Z"}),el(Path,{d:"M13 0H14C14.5523 0 15 0.447715 15 1V6H14C13.4477 6 13 5.55228 13 5V0Z"}),el(Path,{d:"M8 3.82843L6.5 5.32843L6.5 2.5L8 1L8 3.82843Z"}),el(Path,{d:"M12.5 3.82843L11 5.32843L11 2.5L12.5 1L12.5 3.82843Z"}))},render:function render(){var _useSelect=useSelect(function(select){var _select=select("core/editor"),getCurrentPostId=_select.getCurrentPostId,getCurrentPostType=_select.getCurrentPostType,getEditedPostAttribute=_select.getEditedPostAttribute,getPostTypeLabel=_select.getPostTypeLabel;return{postId:getCurrentPostId(),postMeta:getEditedPostAttribute("meta"),postType:getCurrentPostType(),postTypeLabel:getPostTypeLabel()}}),postId=_useSelect.postId,postMeta=_useSelect.postMeta,postType=_useSelect.postType,postTypeLabel=_useSelect.postTypeLabel;var metaValue=defaultTo(get(postMeta,META_KEY),postMeta);var _useDispatch=useDispatch("core"),editEntityRecord=_useDispatch.editEntityRecord;var setMeta=useCallback(function(key,value){editEntityRecord("postType",postType,postId,{meta:_defineProperty({},META_KEY,merge({},metaValue,_defineProperty({},key,value)))})},[metaValue]);var title=metaValue.title,keywords=metaValue.keywords,description=metaValue.description,canonical=metaValue.canonical,noindex=metaValue.noindex,nofollow=metaValue.nofollow,schema_type=metaValue.schema_type,schema_article_type=metaValue.schema_article_type,facebook_image=metaValue.facebook_image,facebook_title=metaValue.facebook_title,facebook_description=metaValue.facebook_description,twitter_image=metaValue.twitter_image,twitter_title=metaValue.twitter_title,twitter_description=metaValue.twitter_description;var _useSelect2=useSelect(function(select){var _select2=select("core"),getMedia=_select2.getMedia;return{facebookImg:getMedia(facebook_image),twitterImg:getMedia(twitter_image)}},[facebook_image,twitter_image]),facebookImg=_useSelect2.facebookImg,twitterImg=_useSelect2.twitterImg;return el(Fragment,{},el(PluginSidebarMoreMenuItem,{target:"seo-ready-settings"},"My Sidebar"),el(PluginSidebar,{name:"seo-ready-settings",title:sprintf(__("%s SEO","seo-ready"),postTypeLabel)},el(TabPanel,{tabs:[{name:"seo",title:__("SEO","seo-ready")},{name:"schema",title:__("Schema","seo-ready")},{name:"social",title:__("Social","seo-ready")}]},function(_ref){var name=_ref.name;return"seo"===name?el(PanelBody,{initialOpen:true},el(TextControl,{autoComplete:"off",help:sprintf(__("Alternative title of this \"%s\" for search engines to index.","seo-ready"),postTypeLabel),label:__("Title","seo-ready"),onChange:function onChange(value){return setMeta("title",value)},value:title||""}),el(TextControl,{autoComplete:"off",help:sprintf(__("Describe the content of this \"%s\" shortly by entering keywords written in lower case, and separated with a comma.","seo-ready"),postTypeLabel),label:__("Keywords","seo-ready"),onChange:function onChange(value){return setMeta("keywords",join(split(value,/[ ,]+/gi),","),",")},value:keywords||""}),el(TextareaControl,{help:sprintf(__("Specify a short description text which should describe the content of this \"%s\" for search engines.","seo-ready"),postTypeLabel),label:__("Description","seo-ready"),onChange:function onChange(value){return setMeta("description",value)},value:description||""}),el(TextControl,{type:"url",autoComplete:"off",help:sprintf(__("Indicates to search engines that a master copy of this \"%s\" exists, and avoids duplicate content index.","seo-ready"),postTypeLabel),label:__("Canonical URL","seo-ready"),onChange:function onChange(value){return setMeta("canonical",value)},value:canonical||""}),el(ToggleControl,{checked:Boolean(noindex),label:sprintf(__("Do not show this \"%s\" in search results?","seo-ready"),postTypeLabel),onChange:function onChange(){return setMeta("noindex",!Boolean(noindex))}}),el(ToggleControl,{checked:Boolean(nofollow),label:sprintf(__("Do not follow the links on this \"%s\"?","seo-ready"),postTypeLabel),onChange:function onChange(){return setMeta("nofollow",!Boolean(nofollow))}})):"schema"===name?el(PanelBody,{initialOpen:true},el(SelectControl,{label:__("Schema Type","seo-ready"),options:[{label:__("Default for Pages (Web Page)","seo-ready"),value:"WebPage"},{label:__("Item Page","seo-ready"),value:"ItemPage"},{label:__("About Page","seo-ready"),value:"AboutPage"},{label:__("FAQ Page","seo-ready"),value:"FAQPage"},{label:__("QA Page","seo-ready"),value:"QAPage"},{label:__("Profile Page","seo-ready"),value:"ProfilePage"},{label:__("Contact Page","seo-ready"),value:"ContactPage"},{label:__("Collection Page","seo-ready"),value:"CollectionPage"},{label:__("Checkout Page","seo-ready"),value:"CheckoutPage"},{label:__("Search Results Page","seo-ready"),value:"SearchResultsPage"}],onChange:function onChange(value){return setMeta("schema_type",value)},value:schema_type||""}),el(SelectControl,{label:__("Article Type","seo-ready"),options:[{label:__("Default for Pages (None)","seo-ready"),value:""},{label:__("Article","seo-ready"),value:"Article"},{label:__("Blog Post","seo-ready"),value:"BlogPosting"},{label:__("News Article","seo-ready"),value:"NewsArticle"},{label:__("Satirical Article","seo-ready"),value:"SatiricalArticle"},{label:__("Tech Article","seo-ready"),value:"TechArticle"},{label:__("Report","seo-ready"),value:"Report"}],onChange:function onChange(value){return setMeta("schema_article_type",value)},value:schema_article_type||""})):"social"===name?el(Fragment,{},el(PanelBody,{initialOpen:true,title:__("Facebook","seo-ready")},el("div",{className:"editor-post-featured-image"},el("div",{className:"editor-post-featured-image__container",style:{marginBottom:20}},el(MediaUpload,{multiple:false,disableDropZone:true,allowedTypes:["image"],onSelect:function onSelect(_ref2){var id=_ref2.id;return setMeta("facebook_image",id)},value:facebook_image||"",render:function render(_ref3){var open=_ref3.open;return facebookImg?el(Fragment,{},el("img",{onClick:open,src:facebookImg.source_url,alt:facebookImg.alt_text,style:{maxWidth:"100%",cursor:"pointer"}}),el(Button,{isLink:true,isSmall:true,isDestructive:true,style:{display:"block"},onClick:function onClick(){return setMeta("facebook_image",0)}},__("Remove Facebook image","seo-ready"))):el(Button,{onClick:open,className:"editor-post-featured-image__toggle"},__("Set Facebook image","seo-ready"))}}))),el(TextControl,{autoComplete:"off",help:sprintf(__("Alternative title of this \"%s\" for Facebook.","seo-ready"),postTypeLabel),label:__("Title","seo-ready"),onChange:function onChange(value){return setMeta("facebook_title",value)},value:facebook_title||""}),el(TextareaControl,{help:sprintf(__("Describe the content of this \"%s\" shortly for Facebook.","seo-ready"),postTypeLabel),label:__("Description","seo-ready"),onChange:function onChange(value){return setMeta("facebook_description",value)},value:facebook_description||""})),el(PanelBody,{initialOpen:true,title:__("Twitter","seo-ready")},el("div",{className:"editor-post-featured-image"},el("div",{className:"editor-post-featured-image__container",style:{marginBottom:20}},el(MediaUpload,{multiple:false,disableDropZone:true,allowedTypes:["image"],onSelect:function onSelect(_ref4){var id=_ref4.id;return setMeta("twitter_image",id)},value:twitter_image||"",render:function render(_ref5){var open=_ref5.open;return twitterImg?el(Fragment,{},el("img",{onClick:open,src:twitterImg.source_url,alt:twitterImg.alt_text,style:{maxWidth:"100%",cursor:"pointer"}}),el(Button,{isLink:true,isSmall:true,isDestructive:true,style:{display:"block"},onClick:function onClick(){return setMeta("twitter_image",0)}},__("Remove Twitter image","seo-ready"))):el(Button,{onClick:open,className:"editor-post-featured-image__toggle"},__("Set Twitter image","seo-ready"))}}))),el(TextControl,{autoComplete:"off",help:sprintf(__("Alternative title of this \"%s\" for Twitter.","seo-ready"),postTypeLabel),label:__("Title","seo-ready"),onChange:function onChange(value){return setMeta("twitter_title",value)},value:twitter_title||""}),el(TextareaControl,{help:sprintf(__("Describe the content of this \"%s\" shortly for Twitter.","seo-ready"),postTypeLabel),label:__("Description","seo-ready"),onChange:function onChange(value){return setMeta("twitter_description",value)},value:twitter_description||""}))):el(PanelBody,{initialOpen:true},"Other")})))}})})(window.wp,window.lodash);